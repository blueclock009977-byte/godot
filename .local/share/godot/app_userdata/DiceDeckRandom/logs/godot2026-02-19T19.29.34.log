Godot Engine v4.6.stable.official.89cea1439 - https://godotengine.org

SCRIPT ERROR: Trying to assign value of type 'Nil' to a variable of type 'bool'.
   at: _static_init (res://addons/gut/gut_loader.gd:35)
   GDScript backtrace (most recent call first):
       [0] _static_init (res://addons/gut/gut_loader.gd:35)
       [1] @static_initializer (res://addons/gut/gut_loader.gd:1)
       [2] _init (res://addons/gut/gut_cmdln.gd:23)
---  GUT  ---
[INFO]:  using [/workspace/.local/share/godot/app_userdata/DiceDeckRandom] for temporary output.
Godot version:  4.6.0
GUT version:  9.5.0


res://test/unit/test_battle_base_effect_application.gd
* test_apply_effect_result_heal_player_applies_to_owner_hp
* test_apply_effect_result_heal_player_full_sets_owner_to_max_hp
* test_apply_effect_result_heal_player_applies_to_opponent_side_when_is_player_false
* test_apply_effect_result_heal_player_full_applies_to_opponent_side_when_is_player_false
* test_apply_effect_result_direct_damage_triggers_game_end
* test_apply_effect_result_self_damage_triggers_game_end
6/6 passed.


res://test/unit/test_battle_constants.gd
* test_max_hp_is_20
* test_max_mana_cap_is_5
* test_move_cost_is_1
* test_default_starting_hand_is_4
* test_card_size_hand_is_120
* test_card_size_field_is_175
* test_card_size_preview_is_300
* test_phase_enum_values
* test_select_mode_enum_values
* test_get_phase_name_main1
* test_get_phase_name_dice
* test_get_phase_name_draw
* test_get_phase_name_main2
* test_get_phase_name_end
* test_get_phase_name_invalid
15/15 passed.


res://test/unit/test_battle_sim.gd
* test_empty_field
* test_single_card_direct_hp
* test_single_card_wrong_dice
* test_card_vs_card_same_lane
* test_kill_then_direct_hp
* test_front_blocks_back
* test_different_lanes_no_interaction
* test_opponent_turn
* test_back_row_only_same_lane
* test_back_row_direct_hp_no_defender
* test_multiple_lanes_battle
* test_selective_dice_activation
* test_dead_card_no_counterattack
* test_all_six_dice_values
14/14 passed.


res://test/unit/test_battle_utils.gd
* test_get_adjacent_slots_lane0_front
* test_get_adjacent_slots_lane1_front
* test_get_adjacent_slots_lane2_front
* test_get_adjacent_slots_lane0_back
* test_get_adjacent_slots_lane1_back
* test_get_adjacent_slots_lane2_back
* test_build_mana_string_full
* test_build_mana_string_partial
* test_build_mana_string_empty
* test_build_mana_string_max_cap
* test_build_mana_string_overcap_max
* test_sim_find_target_front_first
* test_sim_find_target_back_if_no_front
* test_sim_find_target_different_lane
* test_sim_find_target_dead_ignored
* test_build_dice_preview_text_format
* test_has_empty_slot_all_empty
* test_has_empty_slot_all_filled
* test_has_empty_slot_mixed
* test_has_empty_slot_one_empty
* test_has_empty_slot_null_treated_as_occupied
* test_is_dice_blocked_empty_context
22/22 passed.


res://test/unit/test_card_data.gd
* test_default_values
* test_color_type_enum
* test_get_color_name_gray
* test_get_color_name_blue
* test_get_color_name_green
* test_get_color_name_black
* test_get_color_name_red
* test_get_color_name_yellow
* test_get_color_name_purple
* test_get_color_name_white
* test_has_effect_false
* test_has_effect_true
* test_duplicate_card_basic
* test_duplicate_card_independent_arrays
* test_all_color_names_are_japanese
15/15 passed.


res://test/unit/test_card_database.gd
* test_card_pool_has_160_cards
* test_all_cards_have_valid_cost
* test_all_cards_have_positive_hp
* test_all_cards_have_non_negative_atk
* test_all_cards_have_attack_dice
* test_all_dice_values_valid
* test_all_cards_have_unique_ids
* test_point_budget_vanilla_cards
* test_get_card_by_id
* test_get_card_by_invalid_id
* test_build_random_deck
* test_build_random_battle_deck_follows_rules
* test_each_color_has_20_cards
* test_card_ids_are_sequential
* test_effect_cards_have_valid_effect_id
* test_duplicate_card_creates_copy
16/16 passed.


res://test/unit/test_effect_manager.gd
* test_timing_enum_values
* test_status_effect_enum_values
* test_effect_definitions_exist
* test_blue_effects_registered
* test_green_effects_registered
* test_black_effects_registered
* test_red_effects_registered
* test_yellow_effects_registered
* test_purple_effects_registered
* test_white_effects_registered
* test_get_effect_description_blue_001
* test_get_effect_description_green_001
* test_get_effect_description_black_004
* test_get_effect_description_invalid
* test_get_effect_timing_on_summon
* test_get_effect_timing_on_attack
* test_get_effect_timing_on_death
* test_get_effect_timing_on_defense
* test_get_effect_timing_constant
* test_get_effect_timing_turn_start
* test_get_effect_timing_turn_end
* test_has_timing_true
* test_has_timing_false
* test_get_summon_cost_modifier_no_effects
* test_get_dice_modifier_no_effects
* test_make_effect_log_format
26/26 passed.


res://test/unit/test_effects.gd
* test_effect_manager_exists
* test_effect_definitions_registered
* test_blue_effects_registered
* test_green_effects_registered
* test_black_effects_registered
* test_red_effects_registered
* test_yellow_effects_registered
* test_purple_effects_registered
* test_white_effects_registered
* test_get_effect_description
* test_get_effect_timing
* test_has_timing
* test_unknown_effect
* test_dice_modifier_blue_002
* test_dice_modifier_black_009
* test_summon_cost_modifier_green_006
* test_all_timings_covered
* test_effect_count
* test_summon_effect_mana_green_001
* test_summon_effect_mana_green_004
* test_summon_effect_self_damage_black
* test_summon_effect_draw_blue_014
* test_summon_effect_draw_and_damage_black_014
* test_attack_effect_direct_damage_blue_012
* test_attack_effect_mana_green_010
* test_attack_effect_lifesteal_black_007
* test_attack_effect_black_015_marks_self_destroy_when_hp_zero
* test_death_effect_red_014_marks_destroy_target_when_hp_zero
* test_death_effect_mana_green_002
* test_death_effect_green_014_triggers_on_ally_death
* test_death_effect_spawn_token_black_006
* test_death_effect_black_010_marks_destroy_targets_when_hp_zero
* test_death_effect_black_002_marks_destroy_target_when_hp_zero
* test_defense_effect_half_damage_blue_006
* test_defense_effect_mana_on_damage_green_012
* test_no_effect_vanilla_card
* test_multiple_cost_modifiers
* test_summon_effect_red_001
* test_summon_effect_red_001_marks_destroy_target_when_hp_zero
* test_summon_effect_yellow_001
* test_summon_effect_yellow_003
* test_summon_effect_white_001
* test_summon_effect_white_009
* test_attack_effect_red_013
* test_attack_effect_red_002_marks_destroy_target_when_hp_zero
* test_death_effect_white_002
* test_defense_effect_yellow_004
* test_cost_modifier_purple_004
* test_turn_start_effects_mana_green_009
* test_turn_start_effects_draw_yellow_005
* test_turn_start_effects_heal_player_white_003
* test_turn_start_effects_self_heal_blue_010
* test_turn_start_effects_atk_up_red_010
* test_turn_end_effects_mana_yellow_010
* test_turn_end_effects_heal_player_white_010
* test_turn_end_effects_purple_008_marks_destroy_target_when_hp_zero
* test_turn_start_effects_multiple_cards
* test_turn_start_effects_skips_malformed_slot_and_continues
* test_turn_start_no_effect_vanilla
* test_turn_start_poison_damage_marks_destroy_target_when_hp_zero
* test_attack_effect_freeze_blue_003
* test_attack_effect_freeze_2turn_blue_008
* test_attack_effect_poison_black_004
* test_summon_effect_freeze_all_blue_018
* test_summon_effect_purple_001
* test_summon_effect_freeze_one_purple_009
* test_summon_effect_clear_status_white_013
* test_death_effect_freeze_purple_005
* test_process_timing_event_dispatch_on_summon
* test_process_timing_event_dispatch_on_attack
* test_process_timing_event_dispatch_on_death
* test_process_timing_event_dispatch_on_defense
* test_process_timing_event_dispatch_on_turn_start
* test_process_timing_event_dispatch_on_turn_end
* test_process_timing_event_missing_required_payload_is_safe
* test_smoke_effects_trigger_on_each_timing
* test_smoke_summon_effect_returns_log_as_activation_evidence
* test_summon_effect_emits_effect_triggered_signal
* test_attack_effect_emits_effect_triggered_signal
* test_defense_effect_emits_effect_triggered_signal
* test_death_effect_emits_effect_triggered_signal
* test_turn_start_effect_emits_effect_triggered_signal
* test_turn_end_effect_emits_effect_triggered_signal
* test_turn_start_poison_tick_emits_effect_triggered_signal
* test_detect_unimplemented_on_summon_effect_ids
* test_detect_unimplemented_on_attack_effect_ids
* test_detect_unimplemented_on_death_effect_ids
* test_detect_unimplemented_on_defense_effect_ids
* test_detect_unimplemented_turn_start_effect_ids
* test_detect_unimplemented_turn_end_effect_ids
* test_summon_effect_uses_prepare_helper_for_entry_guard
* test_attack_effect_uses_prepare_helper_for_entry_guard
* test_death_effect_uses_prepare_helper_for_entry_guard
* test_defense_effect_uses_prepare_helper_for_entry_guard
94/94 passed.


res://test/unit/test_firebase_manager.gd
* test_firebase_url_defined
* test_firebase_url_is_https
* test_player_id_is_string
* test_has_put_data_method
* test_has_post_data_method
* test_has_patch_data_method
* test_has_get_data_method
* test_has_delete_data_method
* test_has_create_request_method
* test_has_parse_response_method
* test_has_load_or_create_player_id_method
11/11 passed.


res://test/unit/test_game_logic.gd
* test_mana_cap
* test_mana_recovery_in_draw_phase
* test_damage_calculation
* test_lane_assignment
* test_first_player_turn1_skips_dice
* test_second_player_turn1_no_skip
* test_move_cost
* test_deck_size
* test_starting_hand
* test_max_hp
* test_win_condition_opponent_hp_zero
* test_win_condition_opponent_hp_negative
* test_lose_condition_player_hp_zero
* test_lose_condition_player_hp_negative
* test_game_continues_both_positive
* test_both_hp_zero_draw
* test_point_budget_cost_0
* test_point_budget_cost_1
* test_point_budget_cost_2
* test_point_budget_cost_3
* test_point_budget_cost_4
* test_point_budget_cost_5
* test_can_summon_with_exact_mana
* test_can_summon_with_excess_mana
* test_cannot_summon_insufficient_mana
* test_can_summon_cost_zero
* test_slot_indices
* test_front_to_back_mapping
* test_back_to_front_mapping
* test_ai_summon_calls_summon_effect_processing
* test_turn_start_effects_are_not_double_processed_in_local_battle
* test_attack_resolution_skips_destroyed_target_slot_after_attack_effect
* test_defense_reflect_effect_is_applied_to_attacker
33/33 passed.


res://test/unit/test_game_manager.gd
* test_game_state_enum_values
* test_max_deck_slots_constant
* test_initial_current_state
* test_initial_player_deck_is_array
* test_initial_battle_result_is_string
* test_initial_user_name_is_string
* test_initial_current_deck_slot_type
* test_has_required_methods
* test_save_deck_to_slot_rejects_negative_slot
* test_save_deck_to_slot_rejects_slot_too_large
* test_valid_slot_range
* test_extract_slot_counts_from_dictionary_response
* test_extract_slot_counts_from_array_response
13/13 passed.


res://test/unit/test_game_manager_deck_slot.gd
* test_deck_slot_is_persisted_and_restored_locally
1/1 passed.


res://test/unit/test_multiplayer_manager.gd
* test_heartbeat_interval_constant
* test_heartbeat_timeout_constant
* test_room_code_retry_limit_constant
* test_initial_room_code_is_empty
* test_initial_is_host_type
* test_initial_my_player_number_type
* test_initial_opponent_id_type
* test_initial_opponent_name_type
* test_initial_is_in_room_type
* test_initial_last_error_type
* test_has_room_created_signal
* test_has_opponent_joined_signal
* test_has_game_starting_signal
* test_has_action_received_signal
* test_has_game_state_updated_signal
* test_has_opponent_disconnected_signal
* test_has_create_room_method
* test_has_join_room_method
* test_has_leave_room_method
* test_has_send_action_method
* test_has_send_game_state_method
* test_has_get_room_data_method
* test_has_get_opponent_deck_method
* test_has_find_waiting_room_method
* test_player_number_host_is_1
* test_player_number_guest_is_2
* test_player_number_range
27/27 passed.


res://test/unit/test_scene_transitions.gd
* test_title_to_lobby_transition
    タイトル画面ロード成功
* test_lobby_scene_load
    ロビー画面ロード成功
* test_online_battle_scene_load
    オンラインバトル画面ロード成功
[WARNING]:  Test script has 2 unfreed children.  Increase log level for more details.
3/3 passed.




==============================================
= Run Summary
==============================================

Totals
------
Warnings              1

Scripts              14
Tests               296
Passing Tests       296
Asserts            2103
Time              0.856s


---- All tests passed! ----

WARNING: ObjectDB instances leaked at exit (run with --verbose for details).
   at: cleanup (core/object/object.cpp:2641)
