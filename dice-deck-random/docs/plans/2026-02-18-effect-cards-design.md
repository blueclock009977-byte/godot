# 効果カード設計書 v1

## 概要
- バニラ20枚（グレー）に加えて、青・緑・黒を各20枚追加
- デッキ構築: グレー(無制限) + 1色のみ
- 効果分だけスタッツを下げてバランス調整

## ポイントバジェット
既存ルール: `コスト×3 + 3` = ATK + HP + ダイス数

効果の強さに応じてスタッツを減らす:
- 弱効果: -1pt (例: ATK-1 または HP-1)
- 中効果: -2pt
- 強効果: -3pt

---

## 青（ダイス操作・弱体化系）

### 効果タイプ案
1. **登場時:弱体化** - 対象の敵ATK-1（永続）
2. **常時:ダイス拡張** - 攻撃ダイスに+1追加
3. **攻撃時:凍結** - 与ダメ時、対象は次ターン攻撃不可
4. **登場時:ダイス変更** - 次のダイスを+1または-1
5. **防御時:反射** - 受けたダメージの半分を攻撃者に返す

### 青カード案（20枚）

| ID | 名前 | コスト | ATK | HP | ダイス | 効果 | 効果コスト |
|----|------|--------|-----|----|----|------|-----------|
| 20 | 氷の精霊 | 1 | 1 | 3 | [1,2] | 登場時:敵1体ATK-1 | -2pt |
| 21 | フロストバット | 1 | 2 | 2 | [3] | 常時:ダイス3,4で攻撃可 | -2pt |
| 22 | 水の使い | 2 | 2 | 4 | [2,3] | 登場時:敵1体ATK-1 | -2pt |
| 23 | 霧の狼 | 2 | 3 | 3 | [1,4] | 攻撃時:対象次ターン攻撃不可 | -2pt |
| 24 | 氷結の騎士 | 3 | 3 | 5 | [2,3,4] | 登場時:敵全体ATK-1 | -3pt |
| 25 | 深海魚 | 3 | 4 | 4 | [5,6] | 常時:ダイス5,6の時ATK+2 | -2pt |
| 26 | 吹雪のドラゴン | 4 | 4 | 7 | [1,2,3] | 登場時:敵全体ATK-1 | -3pt |
| 27 | 海神の守護者 | 4 | 5 | 6 | [3,4] | 防御時:ダメージ半減 | -3pt |
| 28 | 氷帝 | 5 | 6 | 8 | [1,2,3,4] | 登場時:敵全体ATK-2 | -4pt |
| 29 | 凍てつく巨人 | 5 | 7 | 7 | [5,6] | 攻撃時:対象2ターン攻撃不可 | -4pt |
| 30 | 霜のインプ | 1 | 2 | 1 | [6] | 死亡時:敵1体ATK-1 | -2pt |
| 31 | 波の踊り子 | 2 | 1 | 5 | [2,4] | 常時:自分ターンHP+1回復 | -2pt |
| 32 | 冷気の魔術師 | 2 | 2 | 3 | [1,3,5] | 登場時:ダイス結果+1 | -2pt |
| 33 | ブリザードウルフ | 3 | 3 | 4 | [2,4,6] | 攻撃時:追加で相手HP-1 | -3pt |
| 34 | 氷の壁 | 3 | 1 | 8 | [1,2] | 常時:同列の味方被ダメ-1 | -3pt |
| 35 | 海賊船長 | 4 | 4 | 5 | [3,4,5] | 登場時:手札1枚ドロー | -3pt |
| 36 | 北風の精 | 4 | 3 | 6 | [1,2,3,4] | 常時:敵前列ATK-1 | -3pt |
| 37 | 氷山 | 5 | 4 | 10 | [1,2,3] | 常時:敵全体ATK-1 | -4pt |
| 38 | 津波の化身 | 5 | 8 | 6 | [5,6] | 攻撃時:対象破壊（HP5以下） | -4pt |
| 39 | 絶対零度 | 5 | 5 | 9 | [1,2,3,4] | 登場時:敵全体1ターン攻撃不可 | -4pt |

---

## 緑（マナ操作系）

### 効果タイプ案
1. **登場時:マナ回復** - マナ+1
2. **常時:マナ効率** - 召喚コスト-1（最低1）
3. **死亡時:マナ還元** - マナ+1
4. **マナ消費効果** - マナ1消費でATK+2など

### 緑カード案（20枚）

| ID | 名前 | コスト | ATK | HP | ダイス | 効果 | 効果コスト |
|----|------|--------|-----|----|----|------|-----------|
| 40 | 森の妖精 | 1 | 1 | 3 | [1,2] | 登場時:マナ+1 | -2pt |
| 41 | 若木のトレント | 1 | 1 | 2 | [3,4] | 死亡時:マナ+1 | -2pt |
| 42 | 草原の狩人 | 2 | 2 | 4 | [2,3] | 登場時:マナ+1 | -2pt |
| 43 | 花の精 | 2 | 1 | 4 | [1,4,5] | 常時:ターン開始時HP+1 | -2pt |
| 44 | 森の守護者 | 3 | 3 | 5 | [2,3,4] | 登場時:マナ+2 | -3pt |
| 45 | 大樹の戦士 | 3 | 4 | 4 | [1,5] | 死亡時:マナ+2 | -3pt |
| 46 | エルフの賢者 | 4 | 3 | 7 | [2,3,4] | 常時:召喚コスト-1 | -3pt |
| 47 | 古代樹 | 4 | 2 | 10 | [1,2] | 常時:味方全体HP+1 | -3pt |
| 48 | 森林王 | 5 | 5 | 9 | [1,2,3,4] | 登場時:マナ+3 | -4pt |
| 49 | 世界樹の化身 | 5 | 6 | 8 | [3,4,5] | 常時:ターン開始時マナ+1 | -4pt |
| 50 | 種まきゴブリン | 1 | 2 | 1 | [5] | 死亡時:マナ+1 | -2pt |
| 51 | 蔦の魔術師 | 2 | 2 | 3 | [2,4,6] | 登場時:マナ+1 | -2pt |
| 52 | 木こりオーク | 2 | 3 | 2 | [1,3] | 常時:攻撃時マナ+1 | -2pt |
| 53 | ドリアードの巫女 | 3 | 2 | 6 | [2,4] | 登場時:味方1体HP+2 | -3pt |
| 54 | 森の巨人 | 3 | 4 | 5 | [1,3,5] | 常時:被ダメ時マナ+1 | -2pt |
| 55 | 春風の使者 | 4 | 4 | 6 | [2,3,4] | 登場時:マナ全回復 | -3pt |
| 56 | 苔の巨人 | 4 | 3 | 9 | [1,2,3] | 常時:味方死亡時HP+2 | -3pt |
| 57 | 大地の精霊 | 5 | 5 | 8 | [2,3,4,5] | 登場時:マナ+2、HP+2 | -4pt |
| 58 | 生命の木 | 5 | 4 | 11 | [1,2,3] | 常時:ターン終了時味方全体HP+1 | -4pt |
| 59 | 森の王 | 5 | 7 | 7 | [1,2,3,4] | 登場時:味方全体HP+2 | -4pt |

---

## 黒（デメリット強化・妨害系）

### 効果タイプ案
1. **登場時:自傷** - 自分HP-2だが高スタッツ
2. **常時:呪い** - 相手特定ダイス無効化
3. **死亡時:道連れ** - 敵1体にダメージ
4. **攻撃時:吸収** - 与ダメの半分HP回復

### 黒カード案（20枚）

| ID | 名前 | コスト | ATK | HP | ダイス | 効果 | 効果コスト |
|----|------|--------|-----|----|----|------|-----------|
| 60 | 闇のコウモリ | 1 | 3 | 2 | [1,2] | 登場時:自分HP-1 | +1pt |
| 61 | 呪いの人形 | 1 | 2 | 2 | [4,5] | 死亡時:敵1体HP-2 | -2pt |
| 62 | 影の暗殺者 | 2 | 4 | 3 | [5,6] | 登場時:自分HP-2 | +1pt |
| 63 | 毒蛇 | 2 | 2 | 4 | [1,3] | 攻撃時:対象に毒（毎ターンHP-1） | -2pt |
| 64 | 堕天使 | 3 | 5 | 5 | [3,4,5] | 登場時:自分HP-3 | +1pt |
| 65 | 死霊術師 | 3 | 3 | 5 | [2,4] | 死亡時:ATK2/HP2トークン召喚 | -3pt |
| 66 | 漆黒の騎士 | 4 | 6 | 6 | [1,2,3] | 登場時:自分HP-3 | +1pt |
| 67 | 吸血鬼 | 4 | 5 | 5 | [4,5,6] | 攻撃時:与ダメ分HP回復 | -3pt |
| 68 | 魔王の影 | 5 | 8 | 8 | [1,2,3,4] | 登場時:自分HP-5 | +1pt |
| 69 | 深淵の王 | 5 | 7 | 7 | [2,3,4,5] | 常時:相手ダイス6無効 | -4pt |
| 70 | 疫病ネズミ | 1 | 1 | 2 | [1,3] | 死亡時:敵全体HP-1 | -2pt |
| 71 | ゾンビ | 2 | 3 | 3 | [2,4] | 死亡時:HP1で復活（1回） | -2pt |
| 72 | 闇の魔術師 | 2 | 2 | 3 | [3,5] | 常時:相手ダイス1無効 | -2pt |
| 73 | 骸骨剣士 | 3 | 4 | 4 | [1,3,5] | 死亡時:敵1体ATK-2 | -2pt |
| 74 | 悪魔の契約者 | 3 | 5 | 4 | [2,4,6] | 登場時:自分HP-2、手札+1 | -1pt |
| 75 | ダークナイト | 4 | 5 | 6 | [1,2,3,4] | 攻撃時:自分HP-1、ATK+2 | -2pt |
| 76 | 死神 | 4 | 6 | 5 | [5,6] | 攻撃時:対象HP半減 | -3pt |
| 77 | 堕落の竜 | 5 | 9 | 6 | [1,2,3,4] | 登場時:自分HP-4 | +1pt |
| 78 | 冥界の門番 | 5 | 5 | 10 | [2,3,4] | 死亡時:敵全体HP-3 | -4pt |
| 79 | 暗黒神 | 5 | 7 | 8 | [1,2,3,4,5] | 常時:相手ダイス1,6無効 | -4pt |

---

## 実装優先順位

### Phase 1: 基盤
1. CardDataに`color_type`と`effect_id`追加
2. 効果定義システム（Effect enum/dictionary）
3. デッキエディタの1色制限

### Phase 2: 効果処理
1. 登場時効果
2. 攻撃時効果
3. 死亡時効果
4. 常時効果
5. 防御時効果

### Phase 3: カードデータ
1. 青カード20枚
2. 緑カード20枚
3. 黒カード20枚

---

## 効果処理の実装方針

```gdscript
# CardData追加フィールド
enum ColorType { GRAY, BLUE, GREEN, BLACK, RED, YELLOW, PURPLE, WHITE }
@export var color_type: ColorType = ColorType.GRAY
@export var effect_id: String = ""  # "blue_001" など

# battle.gd に効果処理を追加
func _trigger_effect(card: CardUI, timing: String) -> void:
    match timing:
        "on_summon": _process_summon_effect(card)
        "on_attack": _process_attack_effect(card)
        "on_death": _process_death_effect(card)
        # etc
```

---

## 確認事項
- [ ] カード案の効果バランスOK?
- [ ] 毒・凍結などの状態異常の持続ターン数
- [ ] トークンのスタッツ・ダイス
- [ ] 「敵1体」の対象選択UI必要?
